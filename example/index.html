<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>NFID Credentials Example</title>
    </head>
    <body>
        <img class="logo" src="/logo.svg" />
        <div class="title">Phone Number Credentials Example</div>
        <div class="subtitle">Step One: Authenticate</div>
        <div>
            Learn about auth with NFID
            <a href="https://docs.nfid.one/basic-installation" target="_blank"
                >here</a
            >
        </div>
        <button id="auth">Authenticate</button>
        <pre class="response" id="principal"></pre>
        <div class="subtitle">Step Two: Request Phone Number Credential</div>
        <pre>
import { requestPhoneNumberCredential } from '@nfid/credentials';
requestPhoneNumberCredential()</pre
        >
        <button id="credential" disabled="true">Request Credential</button>
        <pre class="response" id="certificate"></pre>
        <div class="subtitle">Step Three: Verify Credential</div>
        <pre>
import { verifyPhoneNumberCredential } from '@nfid/credentials';
verifyPhoneNumberCredential(result.clientPrincipal)</pre
        >
        <pre class="response" id="verify"></pre>
        <div class="subtitle">Step Four: Backend Verify</div>
        <div>
            Before performing sensitive actions you should verify the credential
            in a backend context, since a bad actor might fake some data on the
            frontend. If your backend uses javascript, you can use the same
            verification method as above. If not, you can use the verification
            canister's
            <code>is_phone_number_approved(principal: string)</code> method
            directly.
        </div>
        <script type="module" src="/src/main.ts"></script>
    </body>
</html>
